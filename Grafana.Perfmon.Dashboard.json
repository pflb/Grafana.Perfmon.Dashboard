{
  "annotations": {
    "list": [
      {
        "datasource": "events",
        "enable": true,
        "iconColor": "rgba(255, 96, 96, 1)",
        "limit": 100,
        "name": "windows",
        "query": "select title, tags, text from hostevents where $timeFilter",
        "tagsColumn": "tags",
        "textColumn": "text",
        "titleColumn": "title",
        "type": "alert"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 2,
  "hideControls": false,
  "id": 7,
  "links": [],
  "refresh": false,
  "rows": [
    {
      "collapse": true,
      "height": 250,
      "panels": [
        {
          "content": "% загруженности процессора - это доля времени, которую процессор тратит на обработку всех потоков команд, кроме простаивающего. Это значение равно разнице между 100 % и процентом времени, которое процессор затрачивает на выполнение простаивающего потока. (Простаивающий поток команд занимает рабочее время процессора в отсутствие других потоков команд.) Этот счётчик является основным показателем загруженности процессора. Он показывает среднее значение занятости процессора в течение интервала измерения. Определение того, простаивает ли процессор, выполняется за внутренний интервал опроса по системным часам (10 мсек). Поэтому для современных быстрых процессоров этот счётчик может занижать использование процессора, так как процессор может затрачивать много времени на обслуживание потоков между опросами по системным часам.  Примеры приложений, для которых более вероятно неточное измерение, - таймерные приложения, основанные на загрузке, так как таймеры получают сигнал сразу же после измерения.",
          "id": 2,
          "links": [],
          "mode": "markdown",
          "span": 4,
          "title": "% Processor Time",
          "type": "text"
        },
        {
          "content": "'% работы в привилегированном режиме' - это доля времени, которое поток команд процессора потратил на исполнение кода в привилегированном режиме. При вызове системных служб Windows они часто исполняются в привилегированном режиме для того, чтобы получить доступ к критическим системным данным. Такие данные защищены от доступа потоков команд, исполняемых в пользовательском режиме. Вызовы к системе могут быть явными или неявными, например при ошибках вызова страниц памяти или обработке прерываний. В отличие от операционных систем предыдущих поколений, в дополнение к обычным способам защиты системы путём разделения пользовательских и привилегированных режимов работы, Windows использует границы процессов для защиты подсистем. При этом результаты работы Windows по обработке приложений может появляться в процессах других подсистем в дополнение к привилегированному времени процессов.",
          "id": 3,
          "links": [],
          "mode": "markdown",
          "span": 4,
          "title": "% Privileged Time",
          "type": "text"
        },
        {
          "content": "Процент времени работы в пользовательском режиме - это процент времени работы процессора, которое он находился в пользовательском режиме. (Пользовательский режим является ограниченным режимом работы процессора. В пользовательском режиме работают приложения, подсистемы обеспечения среды (например, Win32, POSIX) и интегрируемые подсистемы. Наоборот, привилегированный режим разработан для компонентов операционной системы и позволяет напрямую обращаться к аппаратуре и всей памяти. Операционная система переключает потоки приложений в привилегированный режим для доступа к службам операционной системы.) Этот счётчик отображает средний процент времени занятости процессора по отношению ко всему времени образца.",
          "id": 4,
          "links": [],
          "mode": "markdown",
          "span": 4,
          "title": "% User Time",
          "type": "text"
        }
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": true,
      "title": "Описание метрик",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "height": "500",
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "datasource": "telegraf",
          "decimals": 1,
          "fill": 1,
          "id": 10,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "% Processor Time (percentile)",
              "color": "#7EB26D",
              "fill": 2
            },
            {
              "alias": "% Processor Time (mean)",
              "color": "#3F6833",
              "fill": 6,
              "linewidth": 3
            }
          ],
          "span": 9,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "% Processor Time (percentile)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Processor_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [
                      "$percentile"
                    ],
                    "type": "percentile"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            },
            {
              "alias": "% Processor Time (mean)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Processor_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            }
          ],
          "thresholds": [
            {
              "colorMode": "warning",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 80
            },
            {
              "colorMode": "critical",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 90
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Processor(_Total): $percentile-перцентиль и среднее значение от \"% Processor Time\"",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "label": "",
              "logBase": 1,
              "max": "100",
              "min": "0",
              "show": true
            },
            {
              "format": "percent",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": false
            }
          ]
        },
        {
          "content": "Для серверов приложений значение не должно превышать 80-90%.\n\nПроблема с CPU есть, если при высоком «**% Processor Time**» растёт «**% Privileged Time**» или «**\\System\\Processor Queue Length**». Если связанные метрики не растут, то значит процессор работает на полную мощность, но не является узким местом – пока справляется.\n",
          "id": 5,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "title": "% Processor Time",
          "type": "text"
        }
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": true,
      "title": "Утилизация процессора, $percentile перцентиль и среднее значение от \"% Processor Time\"",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "height": "500",
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "datasource": "telegraf",
          "decimals": 1,
          "fill": 1,
          "id": 11,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "% Processor Time (percentile)",
              "color": "#7EB26D",
              "fill": 0
            },
            {
              "alias": "% Privileged Time (percentile)",
              "color": "#CCA300",
              "fill": 4,
              "linewidth": 3
            }
          ],
          "span": 9,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "% Processor Time (percentile)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Processor_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [
                      95
                    ],
                    "type": "percentile"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            },
            {
              "alias": "% Privileged Time (percentile)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Privileged_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [
                      95
                    ],
                    "type": "percentile"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            }
          ],
          "thresholds": [
            {
              "colorMode": "warning",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 80
            },
            {
              "colorMode": "critical",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 90
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Processor(_Total) / % Processor Time",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "label": "",
              "logBase": 1,
              "max": "100",
              "min": "0",
              "show": true
            },
            {
              "format": "percent",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": true
            }
          ]
        },
        {
          "content": "Значение выше 75% часто указывает, что CPU является узким местом. \n\nЕсли тестируемый модуль работает непрерывно, то достаточно мониторить общую метрику, иначе нужна метрика «Process(*)\\% Privileged Time». \nТакже интересно мониторить отношение «% Privileged Time» к «% Processor Time». Существенные скачки этого отношения указывают на изменения в нагрузке, влияющие на производительность, на вероятные узкие места.\n",
          "id": 6,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "title": "% Privileged Time",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "datasource": "telegraf",
          "decimals": 1,
          "description": "Интересно мониторить отношение «% Privileged Time» к «% Processor Time». Существенные скачки этого отношения указывают на изменения в нагрузке, влияющие на производительность, на вероятные узкие места.",
          "fill": 1,
          "id": 9,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "mean(% Privileged Time) / mean(% Processor Time)",
              "color": "#705DA0",
              "fill": 3
            }
          ],
          "span": 9,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "mean(% Privileged Time) / mean(% Processor Time)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "query": "SELECT mean(\"Percent_Privileged_Time\") / mean(\"Percent_Processor_Time\") FROM \"autogen\".\"win_cpu\" WHERE \"instance\" = '_Total' AND $timeFilter GROUP BY time($stepInterval) fill(none)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Privileged_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            }
          ],
          "thresholds": [
            {
              "colorMode": "warning",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 75
            },
            {
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 80
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Processor(_Total): \"% Privileged Time\" / \"% Processor Time\"",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "percent",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": false
            }
          ]
        },
        {
          "content": "Отношение «% Privileged Time» к «% Processor Time». Существенные скачки этого отношения указывают на изменения в нагрузке, влияющие на производительность, на вероятные узкие места.\n",
          "id": 18,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "title": "Описание",
          "type": "text"
        }
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": true,
      "title": "Утилизация процессора: 95 перцентиль \"% Privileged Time\" на фоне 95 перцентиль \"% Processor Time\"",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "height": "400",
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "datasource": "telegraf",
          "decimals": 1,
          "fill": 1,
          "id": 8,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "% Privileged Time (среднее)",
              "color": "#E5AC0E",
              "fill": 6,
              "linewidth": 4,
              "stack": true
            },
            {
              "alias": "% User Time (среднее)",
              "color": "#64B0C8",
              "fill": 6,
              "linewidth": 4,
              "stack": true
            },
            {
              "alias": "/% Processor Time .*/",
              "bars": false,
              "color": "#508642",
              "fill": 0,
              "lines": true,
              "stack": false
            }
          ],
          "span": 9,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "% User Time (среднее)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_User_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            },
            {
              "alias": "% Privileged Time (среднее)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Privileged_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            },
            {
              "alias": "% Processor Time ($percentile-перцентиль)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Processor_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [
                      "$percentile"
                    ],
                    "type": "percentile"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            }
          ],
          "thresholds": [
            {
              "colorMode": "warning",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 80
            },
            {
              "colorMode": "critical",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 90
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Processor(_Total): \"% User Time\" дополняет метрику \"% Privileged Time\" - сумма средних значений для шага $stepInterval",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "label": null,
              "logBase": 1,
              "max": "100",
              "min": "0",
              "show": true
            },
            {
              "format": "percent",
              "label": null,
              "logBase": 2,
              "max": null,
              "min": null,
              "show": false
            }
          ]
        },
        {
          "content": "Метрика «% User Time» дополняет метрику «% Privileged Time». Сумма их средних значений близка к «% Processor Time». Если полная загрузка превышает 80-90%, то это может указывать на проблемы производительности.",
          "id": 7,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "title": "% User Time",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "datasource": "telegraf",
          "decimals": 1,
          "description": "",
          "fill": 1,
          "id": 20,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": false,
            "max": true,
            "min": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "mean(% User Time) / mean(% Processor Time)",
              "color": "#705DA0",
              "fill": 4,
              "linewidth": 3,
              "yaxis": 1
            },
            {
              "alias": "mean(% User Time)",
              "color": "#447EBC",
              "fill": 4,
              "linewidth": 3,
              "yaxis": 2
            },
            {
              "alias": "mean(% Processor Time)",
              "color": "#629E51",
              "fill": 0,
              "yaxis": 2
            }
          ],
          "span": 9,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "mean(% User Time) / mean(% Processor Time)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "none"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "query": "SELECT mean(\"Percent_User_Time\") / mean(\"Percent_Processor_Time\") FROM \"autogen\".\"win_cpu\" WHERE \"instance\" = '_Total' AND $timeFilter GROUP BY time($stepInterval) fill(none)",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Privileged_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            },
            {
              "alias": "mean(% User Time)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_User_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            },
            {
              "alias": "mean(% Processor Time)",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "autogen",
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Processor_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "instance",
                  "operator": "=",
                  "value": "_Total"
                }
              ]
            }
          ],
          "thresholds": [
            {
              "colorMode": "warning",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 0.8
            },
            {
              "colorMode": "critical",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 0.9
            },
            {
              "colorMode": "ok",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 0.25
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Processor(_Total): \"% User Time\" / \"% Processor Time\"",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percentunit",
              "label": null,
              "logBase": 1,
              "max": "1",
              "min": "0",
              "show": true
            },
            {
              "format": "percent",
              "label": null,
              "logBase": 1,
              "max": "100",
              "min": "0",
              "show": true
            }
          ]
        },
        {
          "content": "Метрика дополняет метрику «\\% Privileged Time». Поэтому если значение начало падать ниже 25% и отношение метрики к полному значению «\\% Processor Time» также падает, то момент падения происходит некий переломный момент в нагрузке. Возможно, тут начинается деградация производительности, связанная с процессором, как с узким местом – нужно изучить причины.",
          "id": 21,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "title": "% User Time",
          "type": "text"
        }
      ],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": true,
      "title": "Утилизация процессора, сумма \"% Privileged Time\" и \"% User Time\"",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "height": "500",
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "datasource": "telegraf",
          "fill": 1,
          "id": 13,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "scopedVars": {
            "percentile": {
              "selected": true,
              "text": "100",
              "value": "100"
            }
          },
          "seriesOverrides": [
            {
              "alias": "win_cpu.percentile {instance: _Total}",
              "legend": false,
              "lines": false
            }
          ],
          "span": 9,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$stepInterval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "instance"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "win_cpu",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Percent_Processor_Time"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [
                      "$percentile"
                    ],
                    "type": "percentile"
                  }
                ]
              ],
              "tags": []
            }
          ],
          "thresholds": [
            {
              "colorMode": "warning",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 80
            },
            {
              "colorMode": "critical",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 90
            }
          ],
          "timeFrom": null,
          "timeShift": null,
          "title": "Processor(*): перцентиль ($percentile) от \"% Processor Time\" с разбивкой по ядрам/процессорам",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "percent",
              "label": "",
              "logBase": 1,
              "max": "100",
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ]
        },
        {
          "content": "Если загружено только одно ядро, то приложения не задействуют возможности многопроцессорности. Или все приложения привязаны к одному ядру. Оптимальная картина - равномерная загрузка ядер/процессоров.",
          "id": 17,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "title": "Описание",
          "type": "text"
        }
      ],
      "repeat": "percentile",
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": true,
      "title": "Загрузка процессора с разбивкой по ядрам/процессорам",
      "titleSize": "h6"
    },
    {
      "collapse": false,
      "height": 250,
      "panels": [],
      "repeat": null,
      "repeatIteration": null,
      "repeatRowId": null,
      "showTitle": false,
      "title": "Dashboard Row",
      "titleSize": "h6"
    }
  ],
  "schemaVersion": 14,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "text": "10s",
          "value": "10s"
        },
        "hide": 0,
        "label": "Шаг группировки",
        "name": "stepInterval",
        "options": [
          {
            "selected": false,
            "text": "1s",
            "value": "1s"
          },
          {
            "selected": false,
            "text": "5s",
            "value": "5s"
          },
          {
            "selected": true,
            "text": "10s",
            "value": "10s"
          },
          {
            "selected": false,
            "text": "30s",
            "value": "30s"
          },
          {
            "selected": false,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          }
        ],
        "query": "1s,5s,10s,30s,1m,5m,10m,30m,1h",
        "refresh": 2,
        "type": "interval"
      },
      {
        "allValue": null,
        "current": {
          "selected": true,
          "tags": [],
          "text": "100",
          "value": "100"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Перцентиль",
        "multi": false,
        "name": "percentile",
        "options": [
          {
            "selected": false,
            "text": "50",
            "value": "50"
          },
          {
            "selected": false,
            "text": "60",
            "value": "60"
          },
          {
            "selected": false,
            "text": "70",
            "value": "70"
          },
          {
            "selected": false,
            "text": "80",
            "value": "80"
          },
          {
            "selected": false,
            "text": "90",
            "value": "90"
          },
          {
            "selected": false,
            "text": "95",
            "value": "95"
          },
          {
            "selected": false,
            "text": "96",
            "value": "96"
          },
          {
            "selected": false,
            "text": "97",
            "value": "97"
          },
          {
            "selected": false,
            "text": "98",
            "value": "98"
          },
          {
            "selected": false,
            "text": "99",
            "value": "99"
          },
          {
            "selected": true,
            "text": "100",
            "value": "100"
          }
        ],
        "query": "50,60,70,80,90,95,96,97,98,99,100",
        "type": "custom"
      }
    ]
  },
  "time": {
    "from": "2017-08-16T17:22:25.642Z",
    "to": "2017-08-16T17:45:06.123Z"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "telegraf",
  "version": 39
}